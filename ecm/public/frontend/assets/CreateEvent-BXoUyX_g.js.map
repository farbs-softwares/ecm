{"version":3,"file":"CreateEvent-BXoUyX_g.js","sources":["../../../../frontend/src/pages/CreateEvent.vue"],"sourcesContent":["<template>\n\t<div class=\"\">\n\t\t<div class=\"grid md:grid-cols-[70%,30%] h-full\">\n\t\t\t<div>\n\t\t\t\t<header\n\t\t\t\t\tclass=\"sticky top-0 z-10 flex flex-col md:flex-row md:items-center justify-between border-b bg-white px-3 py-2.5 sm:px-5\"\n\t\t\t\t>\n\t\t\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t\t\t\t<div class=\"flex items-center mt-3 md:mt-0\">\n\t\t\t\t\t\t<Button variant=\"solid\" @click=\"submitEvent()\" class=\"ml-2\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ __('Save') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div class=\"mt-5 mb-10\">\n\t\t\t\t\t<div class=\"container mb-5\">\n\t\t\t\t\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t\t\t\t\t{{ __('Details') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tv-model=\"eventDetail.title\"\n\t\t\t\t\t\t\t:label=\"__('Title')\"\n\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tv-model=\"eventDetail.about_event\"\n\t\t\t\t\t\t\t:label=\"__(' About Event')\"\n\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\t{{ __('Event Description') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\t:content=\"eventDetail.full_description\"\n\t\t\t\t\t\t\t\t@change=\"(val) => (eventDetail.full_description = val)\"\n\t\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t\t:fixedMenu=\"true\"\n\t\t\t\t\t\t\t\teditorClass=\"prose-sm max-w-none border-b border-x bg-gray-100 rounded-b-md py-1 px-2 min-h-[7rem]\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-700\">\n\t\t\t\t\t\t\t\t{{ __('Event Cover image') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\tv-if=\"!eventDetail.event_image\"\n\t\t\t\t\t\t\t:fileTypes=\"['image/*']\"\n\t\t\t\t\t\t\t:validateFile=\"validateFile\"\n\t\t\t\t\t\t\t@success=\"(file) => saveImage(file)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tv-slot=\"{ file, progress, uploading, openFileSelector }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t\t\t<Button @click=\"openFileSelector\" :loading=\"uploading\">\n\t\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t\tuploading ? `Uploading ${progress}%` : 'Upload an image'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</FileUploader>\n\t\t\t\t\t\t<div v-else class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"text-xs text-gray-600 mb-1\">\n\t\t\t\t\t\t\t\t{{ __('Event Cover image') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<div class=\"border rounded-md p-2 mr-2\">\n\t\t\t\t\t\t\t\t\t<FileText class=\"h-5 w-5 stroke-1.5 text-gray-700\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{{ eventDetail.event_image.file_name }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm text-gray-500 mt-1\">\n\t\t\t\t\t\t\t\t\t\t{{ getFileSize(eventDetail.event_image.file_size) }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<X\n\t\t\t\t\t\t\t\t\t@click=\"removeImage()\"\n\t\t\t\t\t\t\t\t\tclass=\"bg-gray-200 rounded-md cursor-pointer stroke-1.5 w-5 h-5 p-1 ml-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t\t\t\t\t\t\t{{ __('Date and Time & Location') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-10\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tv-model=\"eventDetail.start_date\"\n\t\t\t\t\t\t\t\t:label=\"__('Start Date')\"\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tv-model=\"eventDetail.start_time\"\n\t\t\t\t\t\t\t\t:label=\"__('Start Time')\"\n\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.finish_date\"\n\t\t\t\t\t\t\t\t\t:label=\"__('End Date')\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.finish_time\"\n\t\t\t\t\t\t\t\t\t:label=\"__('End Time')\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.location\"\n\t\t\t\t\t\t\t\t\t:label=\"__(' Event Location')\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tdoctype=\"Country\"\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.country\"\n\t\t\t\t\t\t\t\t\t:label=\"__('Country')\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.province\"\n\t\t\t\t\t\t\t\t\t:label=\"__(' State/Provice')\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.city\"\n\t\t\t\t\t\t\t\t\t:label=\"__(' City')\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t\t\t\t\t\t\t{{ __('Price') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-10\">\n\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.suggested_cost\"\n\t\t\t\t\t\t\t\t\t:label=\"__(' Cost')\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.is_price_negotiable\"\n\t\t\t\t\t\t\t\t\t:label=\"__(' Is price negotiable')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\t:options=\"eventGetSelectPriceOptions.data?.is_price_negotiable\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t\t\t\t\t\t\t{{ __('More details') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-10\">\n\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.number_of_participate\"\n\t\t\t\t\t\t\t\t\t:label=\"__(' Number of Participate')\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.group\"\n\t\t\t\t\t\t\t\t\t:label=\"__('Group?')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\t:options=\"eventGetSelectGroupOptions.data?.group\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.control_level\"\n\t\t\t\t\t\t\t\t\t:label=\"__('Control Level')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\t:options=\"eventGetSelectControlLevelOptions.data?.control_level\"\n\t\t\t\t\t\t\t\t\tclass=\"mb-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t\t\t\t\t\t\t{{ __('Settings') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-10\">\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tdoctype=\"ECM Status\"\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.status\"\n\t\t\t\t\t\t\t\t\t:label=\"__('Status')\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tdoctype=\"ECM Category\"\n\t\t\t\t\t\t\t\t\tv-model=\"eventDetail.category\"\n\t\t\t\t\t\t\t\t\t:label=\"__('Category')\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class=\"border-l pt-5\">\n\t\t\t\t<EventOutline\n\t\t\t\t\tv-if=\"eventResource.data\"\n\t\t\t\t\t:eventName=\"eventResource.data.name\"\n\t\t\t\t\t:title=\"eventDetail.title\"\n\t\t\t\t\t:allowEdit=\"true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tBreadcrumbs,\n\tTextEditor,\n\tButton,\n\tcreateResource,\n\tFormControl,\n\tFileUploader,\n} from 'frappe-ui'\nimport {\n\tinject,\n\tonMounted,\n\tonBeforeUnmount,\n\tcomputed,\n\tref,\n\treactive,\n\twatch,\n} from 'vue'\nimport {\n\tconvertToTitleCase,\n\tshowToast,\n\tgetFileSize,\n\tupdateDocumentTitle,\n} from '../utils'\nimport Link from '@/components/Controls/Link.vue'\nimport { FileText, X } from 'lucide-vue-next'\nimport { useRouter } from 'vue-router'\nimport EventOutline from '@/components/EventOutline.vue'\n\n\nconst user = inject('$user')\nconst newTag = ref('')\nconst router = useRouter()\nconst instructors = ref([])\n\n\nconst props = defineProps({\n\teventName: {\n\t\ttype: String,\n\t},\n})\n\nconst eventDetail = reactive({\n\ttitle: '',\n\tabout_event: '',\n\tfull_description: '',\n\tstart_time: '',\n\tfinish_time: '',\n\tstart_date: '',\n\tfinish_date: '',\n\tevent_image: '',\n\tcategory: '',\n\tnumber_of_participate:'',\n\tlocation: '',\n\tstatus:'',\n\tnumber_of_participate:0,\n\tgroup:'',\n\tcontrol_level:'',\n\tsuggested_cost:0,\n\tis_price_negotiable:'',\n\tcountry:'',\n\tcity:'',\n    province:'',\n\tpublished: false,\n\n})\n\nonMounted(() => {\n\tif (\n\t\tprops.eventName == 'new' &&\n\t\t!user.data?.is_moderator &&\n\t\t!user.data?.is_instructor\n\t) {\n\t\trouter.push({ name: 'Event' })\n\t}\n\n\tif (props.eventName !== 'new') {\n\t\teventResource.reload()\n\t}\n\twindow.addEventListener('keydown', keyboardShortcut)\n})\n\nconst keyboardShortcut = (e) => {\n\tif (\n\t\te.key === 's' &&\n\t\t(e.ctrlKey || e.metaKey) &&\n\t\t!e.target.classList.contains('ProseMirror')\n\t) {\n\t\tsubmitEvent()\n\t\te.preventDefault()\n\t}\n}\n\nonBeforeUnmount(() => {\n\twindow.removeEventListener('keydown', keyboardShortcut)\n})\n\nconst eventCreationResource = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'ECM Events',\n\t\t\t\tcover_image: eventDetail.event_image?.file_url || '',\n\t\t\t\t...values,\n\t\t\t},\n\t\t}\n\t},\n})\n\n//\n\n\nconst courseEditResource = createResource({\n\turl: 'frappe.client.set_value',\n\tauto: false,\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'ECM Events',\n\t\t\tname: values.eventDetail,\n\t\t\tfieldname: {\n\t\t\t\tcover_image: eventDetail.event_image?.file_url || '',\n\t\t\t\t/* instructors: instructors.value.map((instructor) => ({\n\t\t\t\t\tinstructor: instructor,\n\t\t\t\t})), */\n\t\t\t\t...eventDetail,\n\t\t\t},\n\t\t}\n\t},\n})\n\nconst eventResource = createResource({\n\t\n\turl: 'frappe.client.get',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'ECM Events',\n\t\t\tname: props.eventName,\n\t\t}\n\t},\n\tauto: false,\n\tonSuccess(data) {\n\t\tObject.keys(data).forEach((key) => {\n            if (Object.hasOwn(eventDetail, key)) eventDetail[key] = data[key]\n\t\t})\n\n\t\teventDetail['start_time'] = ref(formatTime(data['start_time']))\n\t\teventDetail['finish_time'] = ref(formatTime(data['finish_time']))\n\t\t//console.log(\"start\", ref(new Date(`1970-01-01T${data['start_time']}Z`).toISOString().substr(11, 8)));\n\t\tif (data.cover_image) imageResource.reload({ image: data.cover_image })\n\t\tcheck_permission()\n\t},\n})\n\nfunction formatTime(time) {\n  const [hours, minutes, seconds] = time.split(':');\n  const formattedHours = hours.padStart(2, '0');\n  return `${formattedHours}:${minutes}:${seconds}`;\n}\nconst imageResource = createResource({\n\turl: 'ecm.events_connect_management.api.get_file_info',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tfile_url: values.image,\n\t\t}\n\t},\n\tauto: false,\n\tonSuccess(data) {\n\t\teventDetail.event_image = data\n\t},\n})\n\nconst submitEvent = () => {\n\t\n\tif (eventResource.data) {\n\t\tcourseEditResource.submit(\n\t\t\t{\n\t\t\t\teventDetail: eventResource.data.name,\n\t\t\t},\n\t\t\t{\n\t\t\t\tonSuccess() {\n\t\t\t\t\tshowToast('Success', 'Event updated successfully', 'check')\n\t\t\t\t},\n\t\t\t\tonError(err) {\n\t\t\t\t\tshowToast('Error', err.messages?.[0] || err, 'x')\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\t} else {\n\t\teventCreationResource.submit(eventDetail, {\n\t\t\tonSuccess(data) {\n\t\t\t\tshowToast('Success', 'Event created successfully', 'check')\n\t\t\t\trouter.push({\n\t\t\t\t\tname: 'CreateEvent',\n\t\t\t\t\tparams: { eventName: data.name },\n\t\t\t\t})\n\t\t\t},\n\t\t\tonError(err) {\n\t\t\t\tshowToast('Error', err.messages?.[0] || err, 'x')\n\t\t\t},\n\t\t})\n\t}\n}\n\nconst validateMandatoryFields = () => {\n\tconst mandatory_fields = [\n\t\t'title',\n\t\t'about_event',\n\t]\n\tfor (const field of mandatory_fields) {\n\t\tif (!eventDetail[field]) {\n\t\t\tlet fieldLabel = convertToTitleCase(field.split('_').join(' '))\n\t\t\treturn `${fieldLabel} is mandatory`\n\t\t}\n\t}\n\t/* if (eventDetail.paid_course && (!eventDetail.course_price || !eventDetail.currency)) {\n\t\treturn 'Course price and currency are mandatory for paid courses'\n\t} */\n}\n\nwatch(\n\t() => props.eventName !== 'new',\n\t(newVal) => {\n\t\tif (newVal) {\n\t\t\teventResource.reload()\n\t\t}\n\t}\n)\n\nconst validateFile = (file) => {\n\tlet extension = file.name.split('.').pop().toLowerCase()\n\tif (!['jpg', 'jpeg', 'png', 'webp'].includes(extension)) {\n\t\treturn 'Only image file is allowed.'\n\t}\n}\n\n/* const updateTags = () => {\n\tif (newTag.value) {\n\t\teventDetail.tags = eventDetail.tags ? `${eventDetail.tags}, ${newTag.value}` : newTag.value\n\t\tnewTag.value = ''\n\t}\n} */\n\n/* const removeTag = (tag) => {\n\teventDetail.tags = eventDetail.tags\n\t\t?.split(', ')\n\t\t.filter((t) => t !== tag)\n\t\t.join(', ')\n\tnewTag.value = ''\n} */\n\nconst saveImage = (file) => {\n\teventDetail.event_image = file\n}\n\nconst removeImage = () => {\n\teventDetail.event_image = null\n}\n\nconst check_permission = () => {\n\tlet user_is_instructor = false\n\tif (user.data?.is_moderator) return\n\n\tinstructors.value.forEach((instructor) => {\n\t\tif (!user_is_instructor && instructor == user.data?.name) {\n\t\t\tuser_is_instructor = true\n\t\t}\n\t})\n\n\tif (!user_is_instructor) {\n\t\trouter.push({ name: 'Events' })\n\t}\n}\n\nconst breadcrumbs = computed(() => {\n\tlet crumbs = [\n\t\t{\n\t\t\tlabel: 'Events',\n\t\t\troute: { name: 'Events' },\n\t\t},\n\t]\n\tif (eventResource.data) {\n\t\tcrumbs.push({\n\t\t\tlabel: eventDetail.title,\n\t\t\troute: { name: 'EventDetail', params: { eventName: props.eventName } },\n\t\t})\n\t}\n\tcrumbs.push({\n\t\tlabel: props.eventName == 'new' ? 'New Events' : 'Edit Events',\n\t\troute: { name: 'CreateEvent', params: { eventName: props.eventName } },\n\t})\n\treturn crumbs\n})\n\nconst pageMeta = computed(() => {\n\treturn {\n\t\ttitle: 'Create an Event',\n\t\tdescription: 'Create or edit an eventDetail.',\n\t}\n})\nconst eventGetSelectGroupOptions = createResource({\n\turl: 'ecm.events_connect_management.utils.get_event_group_options',\n\t\n\tauto: true,\n\n})\nconst eventGetSelectPriceOptions = createResource({\n\turl: 'ecm.events_connect_management.utils.get_event_pricenegotiate_options',\n\t\n\tauto: true,\n\n})\nconst eventGetSelectControlLevelOptions = createResource({\n\turl: 'ecm.events_connect_management.utils.get_event_control_level_options',\n\t\n\tauto: true,\n\n})\n\nupdateDocumentTitle(pageMeta)\n\n</script>\n"],"names":["user","inject","ref","router","useRouter","instructors","props","__props","eventDetail","reactive","onMounted","_a","_b","eventResource","keyboardShortcut","submitEvent","onBeforeUnmount","eventCreationResource","createResource","values","__spreadValues","courseEditResource","data","key","formatTime","imageResource","check_permission","time","hours","minutes","seconds","showToast","err","watch","newVal","validateFile","file","extension","saveImage","removeImage","user_is_instructor","instructor","breadcrumbs","computed","crumbs","pageMeta","eventGetSelectGroupOptions","eventGetSelectPriceOptions","eventGetSelectControlLevelOptions","updateDocumentTitle"],"mappings":"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"}